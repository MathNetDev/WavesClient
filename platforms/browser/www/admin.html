<!DOCTYPE HTML>
<!-- admin.html is homepage view. Will allow user to create/manage class -->
<html>

<head>
  <meta charset="UTF-8"> 
  <title>Waves Admin View</title>
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" />
  <link rel="stylesheet" href="mathnet/css/bootstrap.min.css"/>
  <link rel="stylesheet" href="mathnet/css/style.css"/>
  <link rel="stylesheet" href="mathnet/css/admin.css"/>
  <link rel="stylesheet" type="text/css" href="mathnet/js/jquery-ui/jquery-ui.min.css">
</head>

<body id="body">
  <div class="container" hidden>
  <!-- Nav tabs -->
    <ul class="nav nav-tabs" role="tablist">
      <li role="presentation" class="active"><a href="#admin" aria-controls="design" role="tab" data-toggle="tab" id="admin_tab">Admin</a></li>
      <li role="presentation"><a href="#settings" aria-controls="design" role="tab" data-toggle="tab" id="settings_tab" style="display:none">Settings</a></li>
    </ul>
  
    <div class="tab-content">
      <div role="tabpanel" class="tab-pane active" id="admin">
        <div class="col-md-12 col-sm-12">
          <h3 id="error_frame"></h3>
        </div>
        <div class="col-md-12 col-sm-12">

          <!-- Main View Begins-->
          <div class="username_password_view" hidden>

            <!-- Title -->
            <div class="col-md-12 col-sm-12">
              <div class="col-md-4 col-sm-4 col-md-offset-4 col-sm-offset-4">
                <h2 style="text-align: center"> Admin Login </h2>
              </div>
            </div>

            <!-- Text Fields and Login Button -->
            <div class="col-md-12 col-sm-12">
              <div class="col-md-4 col-sm-4 col-md-offset-4 col-sm-offset-4">
                <input type="text" class="form-control username" name="user_id" required="" placeholder="User ID"/>
                <p class = "error error_username" hidden> User ID does not exist </p> <br/>
                <input type="password" class="form-control password" name="password" required="" placeholder="Password"/>
                <p class = "error error_password" hidden> Wrong Password Try Again </p> <br/>
              </div>
            </div>

            <!-- New To Waves -->
            <div class="col-md-12 col-sm-12">
                <div class="col-md-4 col-sm-4 col-md-offset-4 col-sm-offset-4">
                  <input class="btn btn-lg btn-primary btn-block login_button" type="submit" value="Login"/><br/>
                  <p style="text-align: center"> New to Waves? </p>
                </div>
            </div>

            <!-- New user button -->
            <div class="col-md-12 col-sm-12">
              <div class="col-md-4 col-sm-4 col-md-offset-4 col-sm-offset-4" style="text-align: center">
                <input class="btn btn-default new_user" type="button" value="Click Here" /><br/><br/>
              </div>
            </div>  

          </div>
          <!-- Main View  Ends-->



          <!-- Username View Begins -->
          <div class="create_user_view" hidden>

            <!-- Title -->
            <div class="col-md-12 col-sm-12">
              <div class="col-md-4 col-sm-4 col-md-offset-4 col-sm-offset-4">
                <h2 style="text-align: center"> New Admin </h2>
              </div>
            </div>

            <!-- Text Fields and Create Admin Button -->
            <div class="col-md-12 col-sm-12">
              <div class="col-md-4 col-sm-4 col-md-offset-4 col-sm-offset-4">

                <input type="text" class="form-control new_username" id="new_username" name="new_username" required="" placeholder="New Username"/>
                <p class = "error error_new_username" hidden> Username Already Exists </p> <br/>

                <input type="password" class="form-control new_password" id="new_password" name="new_password" required="" placeholder="Password"/><br/>
                <input type="password" class="form-control re_new_password" id="re_new_password" name="re_new_password" required="" placeholder="Re-Type Password"/>
                <p class = "error error_re_new_password" hidden> Both Passwords Do Not Match </p> <br/>

                <input type="password" class="form-control Secret" id="password" name="password" required="" placeholder="Secret Code"/><br/>
                <input class="btn btn-lg btn-primary btn-block create_admin_button" type="submit" value="Create Admin"/><br/>
              </div>
            </div>
            <input class="btn btn-default create_admin_back" type="submit" value="Back"/><br/><br/>
          </div>
          <!-- Username View Ends -->

          <h5 class = "ping"> Ping : 0 </h5>

          <!-- This div appears when an admin leaves a class or has not made on yet -->
          <div class="create_view" style="display:none">

                <!-- Heading for classes view -->
            <div class="col-md-12 col-sm-12">
                <div class="col-md-4 col-sm-4 col-md-offset-4 col-sm-offset-4">
                  <h2 style="text-align: center"> Click To Join A Class </h2></div>
            </div>
            <!-- All classes -->
            <div>
              <h3 id="get-classes-head"></h3>
              <div class="col-md-12 col-lg-12 col-xs-12 col-sm-12" id="get-classes"></div>
            </div>


            <!-- Line Break -->
            <table width="100%">
              <td><hr/></td>
                <td style="width:1px; padding: 0 10px; white-space: nowrap;">OR</td>
              <td><hr /></td>
            </table>â€‹

            <!-- New Class heading -->
            <div class="col-md-12 col-sm-12">
              <div class="col-md-4 col-sm-4 col-md-offset-4 col-sm-offset-4">
                  <h3 style="text-align: center"> Create New Class</h3>
              </div>
                
            </div>

            <!-- New Class -->
            <div class="col-md-12 col-sm-12">
              <div class="col-md-4 col-sm-4 col-md-offset-4 col-sm-offset-4">
                <input type="text" class="form-control class_input" id="class_input" name="class_input" required="" placeholder="Class Name"/> 
                <p class = "error error_class_input" hidden> Class Name Already Exists </p> <br/>
                <p class = "error empty_class_input" hidden> Class Name Can't Be Empty </p> <br/>
                <input type="number" class="form-control group_input" id="group_input" name="group_input" required="" placeholder="Number Of Groups"/><br/>
              </div>
            </div>    
            <!-- The buttons -->
            <div class="col-md-12 col-sm-12">
              <div class="col-md-4 col-sm-4 col-md-offset-4 col-sm-offset-4" style="text-align: center">
                <input class="btn btn-primary btn-block create_button" type="button" value="Create Class" /><br/><br/>
                <input id = "logout_class_button" class="btn btn-default btn-danger logout_class_button" type="button" value="Logout">
              </div>
            </div>  
            <!-- End Of Buttons -->
          </div>

          <!-- This div appears once an admin has created a class -->
          <div class="class_view" style="display:none">

            <!-- Title -->
            <div class="col-md-12 col-sm-12">
              <div class="col-md-4 col-sm-4">
                <input class="btn btn-default btn-danger leave_button" type="button" style="margin-right:1em;" value="Leave Class">
                <input id = "delete_class_button" class="btn btn-danger delete_class_button" type="button" value="Delete Class"> 
              </div>
              <div class="col-md-4 col-sm-4">
                <h1 class = "class_name" style = "text-align: center; margin-top:-5px;"></h1>
                <a id="student_class_id_link" target="_blank"><h3 class = "class_id" style = "text-align: center; margin-top:-5px;"></h3></a>
              </div>
              <div class="col-md-4 col-sm-4">
                <input class="btn btn-primary add_button" type="button" style="float:right;" value="Add Group">
                <input class="btn btn-primary delete_button" type="button" style="float:right; margin-right: 1em;" value="Delete Group"> &emsp;
                <br/><br/>
              </div>
            </div> 

            <!-- The place to store the lists -->
            <div class="manage_view" hidden>
              <ul class="groups" ></ul>
            </div>

            <!-- Line Break -->
            <table width="100%">
              <td><hr/></td>
                <td style="width:1px; padding: 0 10px; white-space: nowrap;">GROUPS AND STUDENTS</td>
              <td><hr /></td>
            </table> <br/>

            <div class="col-md-12 lists"></div> 

          </div>

        </div>
      </div> <!-- End of admin tab -->


      <!-- Settings tab -->
      <div role="tabpanel" class="tab-pane" id="settings">
        <div class="col-md-12 col-sm-12">
          <h3> Settings </h3>
          <h4> Change Password </h4>
          <p class="error error_password_mismatch" hidden> Passwords do not match <br/> </p> 
          <p class="error error_password_incorrect" hidden> Incorrect password <br/> </p> 
          <input type="password" class="form-control" id="current_password" name="password" required="" placeholder="Current password"/>
          <input type="password" class="form-control" id="changed_password" name="password" required="" placeholder="New password"/>
          <input type="password" class="form-control" id="retyped_changed_password" name="password" required="" placeholder="Retype new password"/>
          <input class="btn btn-md btn-primary btn-block" type="submit" value="Submit" id="change_password_button"/>
        </div>
      </div> <!-- End of settings tab -->
    </div> <!-- End of table-content -->
  </div> <!-- End of container -->

    <!-- Redirect Modal -->
  <div id="redirect_modal" class="modal fad" tabindex="-1" role="dialog" aria-labelledby="modal_redirect_label">
    <div class="modal-dialog">
      <div class="modal-content">

        <div class="modal-header">
          <h4 class="modal-title" id="modal_redirect_label"> Enter a Username </h4>
        </div> <!-- modal-header -->

        <div class="modal-body">

          <div class="col-md-12">
            <div class="col-md-4"></div>
            <div class="error col-md-4" id="redirect_username_error_admin" hidden>
              <p> Username <strong>admin</strong> not allowed. </p>
            </div>
          </div>
          <div class="col-md-12">
            <div class="col-md-4"></div>
            <div class="error col-md-4" id="redirect_username_error" hidden>
              <p> Username must be less than or equal to 8 characters long and must start with an alphabetic character. </p>
            </div>
          </div>

          <div class="col-md-12">
            <div class="col-md-4"></div>
            <div class="col-md-4">
              <input type="text" class="form-control" id="redirect_username" name="user_id" required="" placeholder="Username"/>
            </div>
          </div>
          <br/><br/>
          <div class="col-md-12">
            <div class="col-md-4"></div>
            <div class="col-md-4">
              <input class="btn btn-md btn-primary btn-block" type="submit" value="Login" id="redirect_login"/><br/>
            </div>
          </div>
          <br/><br/>
        </div> <!-- modal-body -->

      </div> <!-- modal-content -->
    </div> <!-- modal-dialog -->
  </div> <!-- Redirect Modal -->

<footer>
  <script src="mathnet/js/jquery-2.2.3.min.js"></script>
  <script src="mathnet/js/socket.io.min.js"></script>  
  <script src="mathnet/js/tether.min.js"></script>
  <script src="mathnet/js/bootstrap.min.js"></script>
  <script src="mathnet/js/jquery-ui/jquery-ui.min.js"></script>
  <script type="text/javascript" src="mathnet/js/lodash.min.js"></script>

  <script src="mathnet/js/host.js"></script>

  <script src="mathnet/js/admin_sockets.js"></script>
  <script src="mathnet/js/admin_vars.js"></script>
  <script src="mathnet/js/admin_functions.js"></script>
  <script src="mathnet/js/admin.js"></script>

  <script>
    var socket = Admin.Socket(io.connect(host));
  </script>
</footer>
  
</body>

</html>
